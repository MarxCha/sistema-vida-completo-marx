# ===========================================
# Sistema VIDA - Variables de Entorno
# ===========================================
# Copia este archivo como .env y configura los valores

# Entorno
NODE_ENV=development
PORT=3000

# Base de datos PostgreSQL
DATABASE_URL="postgresql://vida_user:your_password@localhost:5432/vida_db?schema=public"

# Redis (cache y sesiones)
REDIS_URL="redis://localhost:6379"

# JWT
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-here
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# Encriptación AES-256 (64 caracteres hexadecimales = 256 bits)
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# PSC NOM-151 (Proveedor de Servicios de Certificación)
PSC_ENDPOINT=https://api.psc-provider.mx/v1
PSC_API_KEY=your-psc-api-key

# Email (SendGrid o SMTP)
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USER=apikey
EMAIL_PASSWORD=your-sendgrid-api-key
EMAIL_FROM=noreply@sistemavida.mx

# Resend (Emails de emergencia y notificaciones)
RESEND_API_KEY=your-resend-api-key
EMAIL_FROM_RESEND=notificaciones@sistemavida.mx

# Twilio (SMS + WhatsApp legacy)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+521234567890
TWILIO_WHATSAPP_NUMBER=+521234567890
TWILIO_WHATSAPP_TEMPLATE_ID=HXdce98f9ca93895538759cd4b43c550b7

# WhatsApp Business API - WABA (Meta Cloud API)
WHATSAPP_PROVIDER=twilio                    # "waba" | "twilio"
WABA_PHONE_NUMBER_ID=123456789012345
WABA_ACCESS_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxx
WABA_BUSINESS_ACCOUNT_ID=987654321098765
WABA_WEBHOOK_VERIFY_TOKEN=your-verify-token
WABA_API_VERSION=v18.0
WABA_FALLBACK_TO_TWILIO=false
WABA_TEMPLATE_EMERGENCY=emergency_alert_v1
WABA_TEMPLATE_ACCESS=access_notification_v1

# AWS S3 (almacenamiento de documentos)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=vida-documents

# Frontend URL (para CORS y emails)
FRONTEND_URL=http://localhost:5173

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# ===========================================
# PRODUCCIÓN - Consideraciones adicionales
# ===========================================
# - Usa secrets manager (AWS Secrets Manager, HashiCorp Vault)
# - Configura SSL/TLS para todas las conexiones
# - Usa una clave de encriptación generada criptográficamente
# - Configura backups automáticos de la base de datos
# - Habilita logging centralizado (CloudWatch, ELK Stack)
